{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams,Link}from'react-router-dom';import{fetchClimateChangeById,fetchAllClimateChanges}from'../services/api.js';import\"../styles/ClimateChangeDetails.css\";import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const ClimateChangeDetails=()=>{const{id}=useParams();const[climateChange,setClimateChange]=useState(null);const[risingSeaLevelId,setRisingSeaLevelId]=useState(null);const[extremeWeatherEventsId,setExtremeWeatherEventsId]=useState(null);const[showAnalysis,setShowAnalysis]=useState(false);useEffect(()=>{const getClimateChange=async()=>{const result=await fetchClimateChangeById(id);setClimateChange(result.data);};const getRelatedClimateChangeIds=async()=>{const allClimateChanges=await fetchAllClimateChanges();// Find and set IDs for \"Rising Sea Level\" and \"Extreme Weather Events\"\nconst risingSeaLevel=allClimateChanges.data.find(change=>change.name==='Rising Sea Levels');const extremeWeatherEvents=allClimateChanges.data.find(change=>change.name==='Extreme Weather Events');if(risingSeaLevel)setRisingSeaLevelId(risingSeaLevel._id);if(extremeWeatherEvents)setExtremeWeatherEventsId(extremeWeatherEvents._id);};getClimateChange();getRelatedClimateChangeIds();},[id]);if(!climateChange)return/*#__PURE__*/_jsx(\"p\",{className:\"loading\",children:\"Loading...\"});return/*#__PURE__*/_jsxs(\"div\",{className:\"climate-change-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"climate-header\",children:[/*#__PURE__*/_jsx(\"img\",{src:`${climateChange.images}`,alt:climateChange.name,className:\"climate-image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"climate-summary\",children:[/*#__PURE__*/_jsx(\"h2\",{children:climateChange.name}),/*#__PURE__*/_jsx(\"p\",{className:\"climate-description\",children:climateChange.description})]})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"climate-causes\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Causes of \",climateChange.name]}),/*#__PURE__*/_jsx(\"ul\",{children:climateChange.causes.map((cause,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"cause-item\",children:[/*#__PURE__*/_jsx(\"h3\",{children:cause.name}),/*#__PURE__*/_jsx(\"h4\",{children:cause.description})]},index))})]}),/*#__PURE__*/_jsxs(\"section\",{className:\"climate-disasters\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Outcome of \",climateChange.name]}),/*#__PURE__*/_jsx(\"ul\",{children:climateChange.name==='Global Warming'?/*#__PURE__*/_jsxs(_Fragment,{children:[risingSeaLevelId&&/*#__PURE__*/_jsx(\"li\",{className:\"disaster-item\",children:/*#__PURE__*/_jsx(Link,{to:`/climate-change/${risingSeaLevelId}`,children:\"Rising Sea Level\"})}),extremeWeatherEventsId&&/*#__PURE__*/_jsx(\"li\",{className:\"disaster-item\",children:/*#__PURE__*/_jsx(Link,{to:`/climate-change/${extremeWeatherEventsId}`,children:\"Extreme Weather Events\"})})]}):climateChange.disasters&&climateChange.disasters.map(disaster=>/*#__PURE__*/_jsx(\"li\",{className:\"disaster-item\",children:/*#__PURE__*/_jsx(Link,{to:`/disaster/${disaster._id}`,children:disaster.name})},disaster._id))})]}),/*#__PURE__*/_jsx(\"section\",{className:\"climate-analysis\",children:climateChange.name==='Earthquakes'?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Analysis of \",climateChange.name]}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setShowAnalysis(!showAnalysis),children:showAnalysis?'Hide Analysis':'View Analysis'}),showAnalysis&&/*#__PURE__*/_jsx(\"iframe\",{src:`${process.env.PUBLIC_URL}/earth_quake_pdf.pdf`,title:\"Earthquake Analysis\",width:\"100%\",height:\"900px\",className:\"analysis-frame\"})]}):/*#__PURE__*/_jsx(_Fragment,{})// (<h3>Analysis not Available</h3>)\n})]});};export default ClimateChangeDetails;","map":{"version":3,"names":["React","useEffect","useState","useParams","Link","fetchClimateChangeById","fetchAllClimateChanges","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ClimateChangeDetails","id","climateChange","setClimateChange","risingSeaLevelId","setRisingSeaLevelId","extremeWeatherEventsId","setExtremeWeatherEventsId","showAnalysis","setShowAnalysis","getClimateChange","result","data","getRelatedClimateChangeIds","allClimateChanges","risingSeaLevel","find","change","name","extremeWeatherEvents","_id","className","children","src","images","alt","description","causes","map","cause","index","to","disasters","disaster","onClick","process","env","PUBLIC_URL","title","width","height"],"sources":["/home/ronak/Downloads/EST_ClimateTech/climate-change-app/src/components/ClimateChangeDetails.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams, Link } from 'react-router-dom';\nimport { fetchClimateChangeById, fetchAllClimateChanges } from '../services/api.js';\nimport \"../styles/ClimateChangeDetails.css\";\n\nconst ClimateChangeDetails = () => {\n  const { id } = useParams();\n  const [climateChange, setClimateChange] = useState(null);\n  const [risingSeaLevelId, setRisingSeaLevelId] = useState(null);\n  const [extremeWeatherEventsId, setExtremeWeatherEventsId] = useState(null);\n  const [showAnalysis, setShowAnalysis] = useState(false);\n  useEffect(() => {\n    const getClimateChange = async () => {\n      const result = await fetchClimateChangeById(id);\n      setClimateChange(result.data);\n    };\n\n    const getRelatedClimateChangeIds = async () => {\n      const allClimateChanges = await fetchAllClimateChanges();\n\n      // Find and set IDs for \"Rising Sea Level\" and \"Extreme Weather Events\"\n      const risingSeaLevel = allClimateChanges.data.find(change => change.name === 'Rising Sea Levels');\n      const extremeWeatherEvents = allClimateChanges.data.find(change => change.name === 'Extreme Weather Events');\n\n      if (risingSeaLevel) setRisingSeaLevelId(risingSeaLevel._id);\n      if (extremeWeatherEvents) setExtremeWeatherEventsId(extremeWeatherEvents._id);\n    };\n\n    getClimateChange();\n    getRelatedClimateChangeIds();\n  }, [id]);\n\n  if (!climateChange) return <p className=\"loading\">Loading...</p>;\n\n  return (\n    <div className=\"climate-change-details\">\n      <div className=\"climate-header\">\n        <img\n          src={`${climateChange.images}`}\n          alt={climateChange.name}\n          className=\"climate-image\"\n        />\n        <div className=\"climate-summary\">\n          <h2>{climateChange.name}</h2>\n          <p className=\"climate-description\">{climateChange.description}</p>\n        </div>\n      </div>\n\n      <section className=\"climate-causes\">\n        <h3>Causes of {climateChange.name}</h3>\n        <ul>\n          {climateChange.causes.map((cause, index) => (\n            <li key={index} className=\"cause-item\">\n              <h3>{cause.name}</h3>\n              <h4>{cause.description}</h4>\n            </li>\n          ))}\n        </ul>\n      </section>\n\n      <section className=\"climate-disasters\">\n        <h3>Outcome of {climateChange.name}</h3>\n        <ul>\n          {climateChange.name === 'Global Warming' ? (\n            <>\n              {risingSeaLevelId && (\n                <li className=\"disaster-item\">\n                  <Link to={`/climate-change/${risingSeaLevelId}`}>Rising Sea Level</Link>\n                </li>\n              )}\n              {extremeWeatherEventsId && (\n                <li className=\"disaster-item\">\n                  <Link to={`/climate-change/${extremeWeatherEventsId}`}>Extreme Weather Events</Link>\n                </li>\n              )}\n            </>\n          ) : (\n            climateChange.disasters && climateChange.disasters.map((disaster) => (\n              <li key={disaster._id} className=\"disaster-item\">\n                <Link to={`/disaster/${disaster._id}`}>{disaster.name}</Link>\n              </li>\n            ))\n          )}\n        </ul>\n      </section>\n      {/* Analysis Section */}\n      <section className=\"climate-analysis\">\n        {\n          climateChange.name === 'Earthquakes' ?\n            (<>\n              <h3>Analysis of {climateChange.name}</h3>\n              <button onClick={() => setShowAnalysis(!showAnalysis)}>\n                {showAnalysis ? 'Hide Analysis' : 'View Analysis'}\n              </button>\n              {showAnalysis && (\n                <iframe\n                  src={`${process.env.PUBLIC_URL}/earth_quake_pdf.pdf`}\n                  title=\"Earthquake Analysis\"\n                  width=\"100%\"\n                  height=\"900px\"\n                  className=\"analysis-frame\"\n                ></iframe>\n              )}\n            </>) :\n            (<></>)\n            // (<h3>Analysis not Available</h3>)\n        }\n      </section>\n    </div>\n  );\n};\n\nexport default ClimateChangeDetails;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}