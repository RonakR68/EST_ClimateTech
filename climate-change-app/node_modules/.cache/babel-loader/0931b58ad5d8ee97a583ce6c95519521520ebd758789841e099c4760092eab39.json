{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import{fetchDisasterById}from'../services/api.js';import'../styles/DisasterDetails.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DisasterDetails=()=>{const{id}=useParams();const[disaster,setDisaster]=useState(null);useEffect(()=>{const getDisaster=async()=>{try{const result=await fetchDisasterById(id);console.log(result);// Log the response to see the structure\nif(result.data){setDisaster(result.data);}else{console.log(\"No data found for this disaster.\");}}catch(error){console.error(\"Error fetching disaster details:\",error);}};getDisaster();},[id]);if(disaster===null){return/*#__PURE__*/_jsx(\"p\",{children:\"Loading disaster details...\"});}return/*#__PURE__*/_jsxs(\"div\",{className:\"disaster-details\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"disaster-header\",children:[/*#__PURE__*/_jsx(\"img\",{src:disaster.images,alt:disaster.name,className:\"disaster-image\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"disaster-summary\",children:[/*#__PURE__*/_jsx(\"h2\",{children:disaster.name}),/*#__PURE__*/_jsx(\"p\",{className:\"disaster-description\",children:disaster.description})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-section\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"Regions Affected:\"}),disaster.regionsAffected&&disaster.regionsAffected.length>0?/*#__PURE__*/_jsx(\"ul\",{children:disaster.regionsAffected.map((region,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:region.region}),\": \",region.description]},index))}):/*#__PURE__*/_jsx(\"p\",{children:\"No regions listed.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"impact-details-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Impacts:\"}),disaster.impacts&&disaster.impacts.length>0?/*#__PURE__*/_jsx(\"ul\",{children:disaster.impacts.map((impact,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:impact.name}),\": \",impact.description]},index))}):/*#__PURE__*/_jsx(\"p\",{children:\"No impacts listed.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"details-section\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"Mitigation and Handling:\"}),disaster.mitigationAndHandling&&disaster.mitigationAndHandling.length>0?/*#__PURE__*/_jsx(\"ul\",{children:disaster.mitigationAndHandling.map((strategy,index)=>/*#__PURE__*/_jsxs(\"li\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:strategy.name}),\": \",strategy.description]},index))}):/*#__PURE__*/_jsx(\"p\",{children:\"No mitigation strategies listed.\"})]})]});};export default DisasterDetails;","map":{"version":3,"names":["React","useEffect","useState","useParams","fetchDisasterById","jsx","_jsx","jsxs","_jsxs","DisasterDetails","id","disaster","setDisaster","getDisaster","result","console","log","data","error","children","className","src","images","alt","name","description","regionsAffected","length","map","region","index","impacts","impact","mitigationAndHandling","strategy"],"sources":["/home/ronak/Downloads/EST_ClimateTech/climate-change-app/src/components/DisasterDetails.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { fetchDisasterById } from '../services/api.js';\nimport '../styles/DisasterDetails.css';\n\nconst DisasterDetails = () => {\n  const { id } = useParams();\n  const [disaster, setDisaster] = useState(null);\n\n  useEffect(() => {\n    const getDisaster = async () => {\n      try {\n        const result = await fetchDisasterById(id);\n        console.log(result); // Log the response to see the structure\n        if (result.data) {\n          setDisaster(result.data);\n        } else {\n          console.log(\"No data found for this disaster.\");\n        }\n      } catch (error) {\n        console.error(\"Error fetching disaster details:\", error);\n      }\n    };\n    getDisaster();\n  }, [id]);\n\n  if (disaster === null) {\n    return <p>Loading disaster details...</p>;\n  }\n\n  return (\n    <div className=\"disaster-details\">\n      <div className=\"disaster-header\">\n        <img\n          src={disaster.images}\n          alt={disaster.name}\n          className=\"disaster-image\"\n        />\n        <div className=\"disaster-summary\">\n          <h2>{disaster.name}</h2>\n          <p className=\"disaster-description\">{disaster.description}</p>\n        </div>\n      </div>\n\n      <div className=\"details-section\">\n        <h4>Regions Affected:</h4>\n        {disaster.regionsAffected && disaster.regionsAffected.length > 0 ? (\n          <ul>\n            {disaster.regionsAffected.map((region, index) => (\n              <li key={index}>\n                <strong>{region.region}</strong>: {region.description}\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <p>No regions listed.</p>\n        )}\n      </div>\n\n      <div className=\"impact-details-section\">\n        <h3>Impacts:</h3>\n        {disaster.impacts && disaster.impacts.length > 0 ? (\n          <ul>\n            {disaster.impacts.map((impact, index) => (\n              <li key={index}>\n                <strong>{impact.name}</strong>: {impact.description}\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <p>No impacts listed.</p>\n        )}\n      </div>\n\n      <div className=\"details-section\">\n        <h3>Mitigation and Handling:</h3>\n        {disaster.mitigationAndHandling && disaster.mitigationAndHandling.length > 0 ? (\n          <ul>\n            {disaster.mitigationAndHandling.map((strategy, index) => (\n              <li key={index}>\n                <strong>{strategy.name}</strong>: {strategy.description}\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <p>No mitigation strategies listed.</p>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default DisasterDetails;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}